(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4abc2762"],{5297:function(e,r,t){e.exports=t.p+"img/visa.9eb04147.png"},"6c85":function(e,r,t){"use strict";t("f6dd")},d85f:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"payment-cover"}),t("div",{staticClass:"container payment-cont"},[t("h1",{staticClass:"head",staticStyle:{color:"#000"}},[e._v("Payment")]),t("div",{staticClass:"row align-items-center py-5"},[e._m(0),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"card-wrapper",attrs:{id:"card"}},[t("div",{staticClass:"card-container"},[e._m(1),t("div",{staticClass:"row"},[t("div",{staticClass:"field col-md-12"},[t("label",{attrs:{for:"card_number"}},[e._v("Card Number")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.number,expression:"card.number"}],staticClass:"form-control",attrs:{id:"card_number",type:"text",placeholder:"4242424242424242"},domProps:{value:e.card.number},on:{input:[function(r){r.target.composing||e.$set(e.card,"number",r.target.value)},function(r){return e.validate("cardNumber")}]}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.cardNumberError,expression:"cardNumberError"}],staticClass:"danger"},[e._v(" "+e._s(e.cardNumberError)+" ")])]),t("div",{staticClass:"field col-6"},[t("label",{attrs:{for:"exp_month"}},[e._v("Expiry Month")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.exp_month,expression:"card.exp_month"}],staticClass:"form-control",attrs:{id:"exp_month",type:"text",placeholder:"MM"},domProps:{value:e.card.exp_month},on:{input:[function(r){r.target.composing||e.$set(e.card,"exp_month",r.target.value)},function(r){return e.validate("month")}]}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.cardMonthError,expression:"cardMonthError"}],staticClass:"danger"},[e._v(" "+e._s(e.cardMonthError)+" ")])]),t("div",{staticClass:"field col-6"},[t("label",{attrs:{for:"exp_month"}},[e._v("Expiry Year")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.exp_year,expression:"card.exp_year"}],staticClass:"form-control",attrs:{id:"exp_year",type:"text",placeholder:"YY"},domProps:{value:e.card.exp_year},on:{input:[function(r){r.target.composing||e.$set(e.card,"exp_year",r.target.value)},function(r){return e.validate("year")}]}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.cardYearError,expression:"cardYearError"}],staticClass:"danger"},[e._v(" "+e._s(e.cardYearError)+" ")])]),t("div",{staticClass:"field col-md-12"},[t("label",{attrs:{for:"cvc"}},[e._v("CVC")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.cvc,expression:"card.cvc"}],staticClass:"form-control",attrs:{id:"cvc",type:"text",placeholder:"123"},domProps:{value:e.card.cvc},on:{input:[function(r){r.target.composing||e.$set(e.card,"cvc",r.target.value)},function(r){return e.validate("cvc")}]}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.cardCvcError,expression:"cardCvcError"}],staticClass:"danger"},[e._v(" "+e._s(e.cardCvcError)+" ")])])]),e.cardCheckError?t("div",{staticClass:"card-danger text-small"},[t("span",[e._v(e._s(e.cardCheckErrorMessage))])]):e._e()])])])]),t("hr"),t("div",{staticClass:"row align-items-center inputs m-0 m-md-4"},[t("div",{staticClass:"col-md-6 p-md-3 p-1"},[t("div",{staticClass:"row"},[t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Address")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address.street,expression:"address.street"}],staticClass:"form-control",attrs:{type:"text",placeholder:"123 Fake St #303"},domProps:{value:e.address.street},on:{input:function(r){r.target.composing||e.$set(e.address,"street",r.target.value)}}})]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("City")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address.city,expression:"address.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"San Francisco"},domProps:{value:e.address.city},on:{input:function(r){r.target.composing||e.$set(e.address,"city",r.target.value)}}})]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("State")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address.state,expression:"address.state"}],staticClass:"form-control",attrs:{type:"text",placeholder:"CA"},domProps:{value:e.address.state},on:{input:function(r){r.target.composing||e.$set(e.address,"state",r.target.value)}}})]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Zip")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address.zip,expression:"address.zip"}],staticClass:"form-control",attrs:{type:"text",placeholder:"94607"},domProps:{value:e.address.zip},on:{input:function(r){r.target.composing||e.$set(e.address,"zip",r.target.value)}}})])])]),t("div",{staticClass:"col-md-6 p-0 p-md-5"},[t("div",{staticClass:"row"},[t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Name")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First and Last"},domProps:{value:e.name},on:{input:[function(r){r.target.composing||(e.name=r.target.value)},function(r){return e.validate("name")}]}}),e._m(2),t("span",{directives:[{name:"show",rawName:"v-show",value:e.nameError,expression:"nameError"}],staticClass:"danger"},[e._v(" "+e._s(e.nameError)+" ")])])]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Email")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email address"},domProps:{value:e.email},on:{input:[function(r){r.target.composing||(e.email=r.target.value)},function(r){return e.validate("email")}]}}),e._m(3),t("span",{directives:[{name:"show",rawName:"v-show",value:e.emailError,expression:"emailError"}],staticClass:"danger"},[e._v(" "+e._s(e.emailError)+" ")])])]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Phone")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.phone},on:{input:[function(r){r.target.composing||(e.phone=r.target.value)},function(r){return e.validate("phone")}]}}),e._m(4),t("span",{directives:[{name:"show",rawName:"v-show",value:e.phoneError,expression:"phoneError"}],staticClass:"danger"},[e._v(" "+e._s(e.phoneError)+" ")])])]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Country")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.country},on:{input:[function(r){r.target.composing||(e.country=r.target.value)},function(r){return e.validate("country")}]}}),e._m(5),t("span",{directives:[{name:"show",rawName:"v-show",value:e.countryError,expression:"countryError"}],staticClass:"danger"},[e._v(" "+e._s(e.countryError)+" ")])])]),t("div",{staticClass:"field col-md-12"},[t("label",[e._v("Amount")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.amount,expression:"amount",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"10000",placeholder:"1$"},domProps:{value:e.amount},on:{input:[function(r){r.target.composing||(e.amount=e._n(r.target.value))},function(r){return e.validate("amount")}],blur:function(r){return e.$forceUpdate()}}}),e._m(6),t("span",{directives:[{name:"show",rawName:"v-show",value:e.amountError,expression:"amountError"}],staticClass:"danger"},[e._v(" "+e._s(e.amountError)+" ")])])])])])]),t("hr"),e.chargeError?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"charge-error text-small"},[e._v(" "+e._s(e.chargeError)+" ")])])]):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 center"},[t("button",{staticClass:"w-75 btn pay-btn",attrs:{type:"submit",disabled:e.cardCheckSending||!e.stripeKey},on:{click:function(r){return r.preventDefault(),e.submit.apply(null,arguments)}}},[e.cardCheckSending?t("span",[t("i",{staticClass:"fa fa-btn fa-spinner fa-spin"}),e._v(" Ordering... ")]):t("span",[e._v(" Place Order ")])])])])])])},s=[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"col-md-6"},[a("img",{staticClass:"img-fluid",attrs:{src:t("eaad"),alt:"A bundle of sticks"}})])},function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"card-top"},[a("div",{staticClass:"top-right"},[a("img",{staticClass:"img-fluid",attrs:{src:t("5297"),alt:"visa"}})])])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-user"})])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-envelope"})])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-phone"})])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-home"})])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-dollar"})])}],n=(t("b0c0"),t("bc3a")),i=t.n(n),o="https://js.stripe.com/v3",c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o,'"]')),r=0;r<e.length;r++){var t=e[r];if(c.test(t.src))return t}return null},u=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(o).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(t),t},m=null,p=function(e){return null!==m||(m=new Promise((function(r,t){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(l),window.Stripe)r(window.Stripe);else try{var a=d();a&&e?console.warn(l):a||(a=u(e)),a.addEventListener("load",(function(){window.Stripe?r(window.Stripe):t(new Error("Stripe.js not available"))})),a.addEventListener("error",(function(){t(new Error("Failed to load Stripe.js"))}))}catch(s){return void t(s)}else r(null)}))),m},v=Promise.resolve().then((function(){return p(null)})),h=!1;v["catch"]((function(e){h||console.warn(e)}));var f={created:function(){var e=this;i.a.get("/getSiteData").then((function(r){e.stripeKey=r.data.siteData.stripe_publishable_api_key,console.log(e.stripeKey)}))},components:{},data:function(){return{stripeKey:null,name:"Connor Leech",email:"connor@employbl.com",phone:"01025887896",country:"Egypt",amount:null,address:{street:"123 Something Lane",city:"San Francisco",state:"CA",zip:"94607"},card:{number:"4242424242424242",cvc:"123",exp_month:"01",exp_year:"22"},cardNumberError:null,cardCvcError:null,cardYearError:null,cardMonthError:null,nameError:null,emailError:null,phoneError:null,countryError:null,amountError:null,cardCheckSending:!1,cardCheckError:!1,cardCheckErrorMessage:"",chargeError:null}},watch:{stripeKey:function(e){e&&this.$store.dispatch("showMessage","You are ready to do transaction..")}},methods:{validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!0;return e&&"cardNumber"!=e||(this.cardNumberError=null,this.card.number||(r=!1,this.cardNumberError="Card Number is Required")),e&&"cvc"!=e||(this.cardCvcError=null,this.card.cvc||(r=!1,this.cardCvcError="Card CVC is Required")),e&&"month"!=e||(this.cardMonthError=null,this.card.exp_month||(r=!1,this.cardMonthError="Card month is Required")),e&&"year"!=e||(this.cardYearError=null,this.card.exp_year||(r=!1,this.cardYearError="Card year is Required")),e&&"name"!=e||(this.nameError=null,this.name||(r=!1,this.nameError="Name is Required")),e&&"email"!=e||(this.emailError=null,this.email||(r=!1,this.emailError="Email is Required")),e&&"phone"!=e||(this.phoneError=null,this.phone||(r=!1,this.phoneError="Phone is Required")),e&&"country"!=e||(this.countryError=null,this.country||(r=!1,this.countryError="Country is Required")),e&&"amount"!=e||(this.amountError=null,(!this.amount||this.amount<=0)&&(r=!1,this.amountError="Amount is Required")),r},submit:function(){this.validate()&&(this.chargeError=null,this.createToken())},clearCardErrors:function(){this.cardNumberError=null,this.cardCvcError=null,this.cardMonthError=null,this.cardYearError=null,this.nameError=null,this.emailError=null,this.phoneError=null,this.countryError=null,this.amountError=null},createToken:function(){try{this.cardCheckError=!1,window.Stripe.setPublishableKey(this.stripeKey),window.Stripe.createToken(this.card,this.stripeResponseHandler),this.cardCheckSending=!0}catch(e){this.chargeError=e.message}},stripeResponseHandler:function(e,r){var t=this;if(this.cardCheckSending=!1,r.error)this.cardCheckErrorMessage=r.error.message,this.cardCheckError=!0,document.getElementById("card").scrollIntoView({behavior:"smooth",block:"start"});else{var a=r.id,s={name:this.name,email:this.email,phone:this.phone,country:this.country,address:this.address,amount:100*this.amount,date:(new Date).getTime(),token_from_stripe:a};this.cardCheckSending=!0,i.a.post("/charge",s).then((function(e){if(t.cardCheckSending=!1,!e.data.done&&e.data.error){var r=e.data.error.raw.message;t.chargeError=r}else{var a=e.data.charge;t.$router.push({path:"complete/".concat(a.id)})}}))}}}},C=f,E=(t("6c85"),t("2877")),g=Object(E["a"])(C,a,s,!1,null,"3902f791",null);r["default"]=g.exports},eaad:function(e,r,t){e.exports=t.p+"img/immigration6.13befab3.png"},f6dd:function(e,r,t){}}]);
//# sourceMappingURL=chunk-4abc2762.2dc05b22.js.map